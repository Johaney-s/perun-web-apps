<h1 class="page-title mt-2">
  {{ 'CONSENTS.TITLE' | customTranslate | translate }}
</h1>
<div class="user-theme">
  <div *ngIf="!loading && unsignedConsents.length !== 0">
    <div class="page-subtitle">
      {{ 'CONSENTS.UNSIGNED_CONSENTS' | customTranslate | translate }}
    </div>

    <perun-web-apps-immediate-filter
      [placeholder]="'CONSENTS.FILTER' | customTranslate | translate"
      (filter)="applyFilterUnsigned($event)">
    </perun-web-apps-immediate-filter>

    <perun-web-apps-consents-list
      [consents]="unsignedConsents"
      [filterValue]="filterValueUnsigned"
      [tableId]="'TABLE_USER_CONSENTS'"
      (grantConsent)="grantConsent($event)"
      (rejectConsent)="rejectConsent($event)"
      [displayedColumns]="['status', 'name']"></perun-web-apps-consents-list>

    <!--    <button mat-flat-button color="accent" class="mt-3" (click)="grantAll()">-->
    <!--      {{ 'CONSENTS.GRANT_ALL' | customTranslate | translate }}-->
    <!--    </button>-->
  </div>

  <div *ngIf="!loading">
    <div class="page-subtitle mt-4">
      {{ 'CONSENTS.PROCESSED_CONSENTS' | customTranslate | translate }}
    </div>
    <perun-web-apps-immediate-filter
      [placeholder]="'CONSENTS.FILTER' | customTranslate | translate"
      (filter)="applyFilterSigned($event)">
    </perun-web-apps-immediate-filter>
    <perun-web-apps-consents-list
      [consents]="signedConsents"
      [tableId]="'TABLE_USER_CONSENTS'"
      [filterValue]="filterValueSigned"
      (grantConsent)="grantConsent($event)"
      (rejectConsent)="rejectConsent($event)"
      [displayedColumns]="['status', 'name']"></perun-web-apps-consents-list>
  </div>

  <mat-spinner class="ms-auto me-auto" *ngIf="loading"></mat-spinner>
</div>
