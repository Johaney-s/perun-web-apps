<div [hidden]="loading">
  <div class="mb-5" *ngIf="displayImageBlock">
    <h1 class="page-subtitle">{{'AUTHENTICATION.TITLE' | customTranslate | translate}}</h1>
    <p>{{'AUTHENTICATION.ANTI_PHISHING_INFO' | customTranslate | translate}}</p>
    <div *ngIf="imageSrc && imageSrc.length">
      <img [src]="imageSrc" alt="" />
    </div>
    <button
      (click)="onAddAttribute(this.imgAtt, this.imgAttrName, 'AddAuthImgDialogComponent', 'IMG')"
      class="me-2 action-button"
      color="accent"
      mat-flat-button>
      {{'AUTHENTICATION.NEW_IMG' | customTranslate | translate}}
    </button>
    <button
      (click)="onDeleteAttribute(this.imgAtt, this.imgAttrName, 'IMG')"
      color="warn"
      [disabled]="!imgAtt || !imgAtt.value"
      mat-flat-button>
      {{'AUTHENTICATION.DELETE_IMG' | customTranslate | translate}}
    </button>
  </div>

  <div class="mb-5" *ngIf="displayTextBlock">
    <h1 class="page-subtitle">{{'AUTHENTICATION.TITLE_TEXT' | customTranslate | translate}}</h1>
    <p>{{'AUTHENTICATION.ANTI_PHISHING_INFO_TEXT' | customTranslate | translate}}</p>
    <h4 *ngIf="textAtt" class="security-text">{{textAtt.value}}</h4>
    <button
      (click)="onAddAttribute(this.textAtt, this.textAttrName, 'AddAuthTextDialogComponent', 'TEXT')"
      class="me-2 action-button"
      color="accent"
      mat-flat-button>
      {{'AUTHENTICATION.NEW_TEXT' | customTranslate | translate}}
    </button>
    <button
      (click)="onDeleteAttribute(this.textAtt, this.textAttrName, 'TEXT')"
      color="warn"
      [disabled]="!textAtt || !textAtt.value"
      mat-flat-button>
      {{'AUTHENTICATION.DELETE_TEXT' | customTranslate | translate}}
    </button>
  </div>

  <h1 class="page-subtitle">{{'AUTHENTICATION.MFA' | customTranslate | translate}}</h1>

  <button mat-flat-button (click)="redirectToMfa()" color="accent" class="mb-2">
    {{'AUTHENTICATION.MFA_INFO'|translate}}
  </button>
  <br />
  <perun-web-apps-mfa-settings></perun-web-apps-mfa-settings>
</div>
<mat-spinner class="ms-auto me-auto" *ngIf="loading"></mat-spinner>
